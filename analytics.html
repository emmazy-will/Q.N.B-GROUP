<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Shipping Analytics | Q.N.B Transport</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
        <style>
        :root {
            --primary: #173052;
            --secondary: #28a745;
            --accent: #6f42c1;
            --light: #f8f9fa;
            --dark: #343a40;
            --warning: #fd7e14;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            color: #333;
            background-color: #f5f7fa;
        }
        
        .navbar-brand img {
            height: 50px;
            transition: transform 0.3s ease;
        }
        
        .navbar-brand img:hover {
            transform: scale(1.05);
        }

        .navbar {
            background: linear-gradient(135deg, #003366 0%, #1e2326 100%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .page-header {
            background: linear-gradient(135deg, var(--primary) 0%, #1a3a6a 100%);
            color: white;
            padding: 80px 0;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Q50,80 0,100 Z" fill="rgba(255,255,255,0.05)"/></svg>') no-repeat;
            background-size: 100% 100%;
            opacity: 0.5;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .stat-card {
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
            background: white;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card .icon-wrapper {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            background: white;
        }
        
        .card:hover {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .card-title {
            color: var(--primary);
            font-weight: 600;
            position: relative;
            padding-bottom: 10px;
        }
        
        .card-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 3px;
        }
        
        .cta-section {
            background: linear-gradient(135deg, var(--primary) 0%, #1a3a6a 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .tracking-input {
            border-radius: 50px;
            padding: 12px 20px;
            border: 2px solid var(--primary);
        }
        
        .tracking-btn {
            border-radius: 50px;
            padding: 12px 25px;
            font-weight: 600;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border: none;
        }
        
        .progress {
            height: 10px;
            border-radius: 5px;
        }
        
        .progress-bar {
            background: linear-gradient(to right, var(--primary), var(--accent));
        }
        
        .status-badge {
            border-radius: 50px;
            padding: 5px 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .export-btn {
            background: linear-gradient(to right, var(--primary), var(--accent));
            border: none;
            border-radius: 50px;
            padding: 10px 25px;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .chart-container {
                height: 250px;
            }
            
            .page-header {
                padding: 60px 0;
            }
            
            .stat-card {
                margin-bottom: 20px;
            }
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animated-card {
            animation: fadeIn 0.6s ease forwards;
        }
        
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
            <img id="logo-footer" src="images/QNB LOGO-2.png" alt="Q.N.B Transport" class="img-fluid" style="max-height: 60px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services.html">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="analytics.html">Analytics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item ms-lg-2 mt-2 mt-lg-0">
                        <button class="btn btn-light rounded-pill px-4 fw-bold">Get Quote</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h1 class="display-4 fw-bold mb-3">Shipping Analytics</h1>
                    <p class="lead mb-4">Real-time insights and performance metrics for your shipments</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Dashboard -->
    <section class="py-5">
        <div class="container">
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-5">
                <h2 class="fw-bold mb-3 mb-md-0">Your Shipping Dashboard</h2>
                <div class="d-flex">
                    <select class="form-select me-2" id="timePeriod">
                        <option value="7">Last 7 Days</option>
                        <option value="30" selected>Last 30 Days</option>
                        <option value="90">Last Quarter</option>
                        <option value="365">Last Year</option>
                    </select>
                    <button class="btn btn-primary" id="refreshBtn">
                        <i class="bi bi-arrow-clockwise"></i>
                    </button>
                </div>
            </div>
            
            <!-- Stats Cards -->
            <div class="row g-4 mb-5">
                <div class="col-md-6 col-lg-3">
                    <div class="card stat-card animated-card delay-1">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Total Shipments</h6>
                                    <h3 class="mb-0" id="totalShipments">142</h3>
                                </div>
                                <div class="icon-wrapper bg-primary bg-opacity-10">
                                    <i class="bi bi-box-seam text-primary fs-4"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-success fw-bold"><i class="bi bi-arrow-up"></i> 12.5%</span> 
                                <span class="text-muted">from last period</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card stat-card animated-card delay-2">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">On-Time Rate</h6>
                                    <h3 class="mb-0" id="onTimeRate">94.7%</h3>
                                </div>
                                <div class="icon-wrapper bg-success bg-opacity-10">
                                    <i class="bi bi-check-circle text-success fs-4"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-success fw-bold"><i class="bi bi-arrow-up"></i> 2.3%</span> 
                                <span class="text-muted">from last period</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card stat-card animated-card delay-3">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Avg Transit Time</h6>
                                    <h3 class="mb-0" id="avgTransitTime">3.2 <small class="fs-6">days</small></h3>
                                </div>
                                <div class="icon-wrapper bg-warning bg-opacity-10">
                                    <i class="bi bi-clock text-warning fs-4"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-danger fw-bold"><i class="bi bi-arrow-down"></i> 0.5</span> 
                                <span class="text-muted">from last period</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card stat-card animated-card delay-4">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="text-muted mb-2">Cost Per Shipment</h6>
                                    <h3 class="mb-0" id="costPerShipment">$142.50</h3>
                                </div>
                                <div class="icon-wrapper bg-info bg-opacity-10">
                                    <i class="bi bi-currency-dollar text-info fs-4"></i>
                                </div>
                            </div>
                            <div class="mt-3">
                                <span class="text-danger fw-bold"><i class="bi bi-arrow-up"></i> 5.2%</span> 
                                <span class="text-muted">from last period</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Charts Row 1 -->
            <div class="row g-4 mb-5">
                <div class="col-lg-8">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Shipment Volume Trend</h5>
                            <div class="chart-container">
                                <canvas id="shipmentVolumeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Service Mix Distribution</h5>
                            <div class="chart-container">
                                <canvas id="serviceMixChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Charts Row 2 -->
            <div class="row g-4 mb-5">
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">On-Time Performance by Service</h5>
                            <div class="chart-container">
                                <canvas id="onTimeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Top Destination Countries</h5>
                            <div class="chart-container">
                                <canvas id="destinationChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional Charts Row 3 -->
            <div class="row g-4 mb-5">
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Revenue by Service Type</h5>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Shipment Weight Distribution</h5>
                            <div class="chart-container">
                                <canvas id="weightChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional Charts Row 4 -->
            <div class="row g-4 mb-5">
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Customer Satisfaction Ratings</h5>
                            <div class="chart-container">
                                <canvas id="satisfactionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Shipment Status Overview</h5>
                            <div class="chart-container">
                                <canvas id="statusChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chart Analysis Section -->
            <div class="row mt-5">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h5 class="card-title mb-0">AI-Powered Insights</h5>
                                <button class="btn btn-sm btn-outline-primary" id="generateInsights">
                                    <i class="bi bi-lightning-charge"></i> Generate New Insights
                                </button>
                            </div>
                            <div id="chartAnalysisContent">
                                <!-- Analysis will be inserted here by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tracking Section -->
    <section id="tracking" class="py-5 bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-4">
                            <h3 class="card-title text-center mb-4">Track Your Shipment</h3>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control tracking-input" id="trackingNumber" placeholder="Enter tracking number (e.g. QNB123456789)">
                                <button class="btn tracking-btn text-white" type="button" id="trackBtn">
                                    <i class="bi bi-search me-2"></i> TRACK
                                </button>
                            </div>
                            <div id="trackingResult" style="display: none;">
                                <h5 class="mb-3">Tracking Results</h5>
                                <div class="d-flex justify-content-between mb-2">
                                    <small class="text-muted">Estimated delivery: <span id="deliveryDate">Tomorrow, 2:00 PM</span></small>
                                    <small class="text-muted" id="trackingNumDisplay"></small>
                                </div>
                                <div class="progress mb-4">
                                    <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                </div>
                                <ul class="list-group list-group-flush" id="trackingStatus">
                                    <!-- Tracking status will be inserted here -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Export -->
    <section class="py-5">
        <div class="container">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
                        <div class="mb-3 mb-md-0">
                            <h5 class="card-title mb-1">Export Data</h5>
                            <p class="text-muted mb-0">Download your shipping data for further analysis</p>
                        </div>
                        <div class="dropdown">
                            <button class="btn export-btn text-white dropdown-toggle" type="button" id="exportDropdown" data-bs-toggle="dropdown">
                                <i class="bi bi-download me-2"></i> Export Data
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#"><i class="bi bi-filetype-csv me-2"></i> CSV Format</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-filetype-xlsx me-2"></i> Excel Format</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-filetype-pdf me-2"></i> PDF Report</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-graph-up me-2"></i> Custom Report</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="py-5 cta-section text-white">
        <div class="container text-center">
            <h2 class="fw-bold mb-4">Need Help Analyzing Your Data?</h2>
            <p class="lead mb-5">Our logistics analysts can help you identify cost-saving opportunities and efficiency improvements.</p>
            <a href="contact.html" class="btn btn-light btn-lg px-5 py-3 rounded-pill fw-bold">Request Consultation</a>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Wait for everything to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all charts
            initAllCharts();
            
            // Set up event listeners
            setupEventListeners();
            
            // Generate initial analysis
            generateChartAnalysis();
            
            // Add animation classes
            addAnimations();
        });

        function addAnimations() {
            // Add animation classes to cards
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.classList.add('animated-card');
                card.style.animationDelay = `${0.1 + (index * 0.05)}s`;
            });
        }

        function initAllCharts() {
            // Initialize all charts with a slight delay to ensure DOM is ready
            setTimeout(() => {
                initShipmentVolumeChart();
                initServiceMixChart();
                initOnTimeChart();
                initDestinationChart();
                initRevenueChart();
                initWeightChart();
                initSatisfactionChart();
                initStatusChart();
            }, 100);
        }

        function setupEventListeners() {
            // Time period change event
            document.getElementById('timePeriod').addEventListener('change', function() {
                updateAnalyticsData(this.value);
            });
            
            // Refresh button event
            document.getElementById('refreshBtn').addEventListener('click', function() {
                const timePeriod = document.getElementById('timePeriod').value;
                updateAnalyticsData(timePeriod);
                
                // Add spin animation
                this.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>';
                setTimeout(() => {
                    this.innerHTML = '<i class="bi bi-arrow-clockwise"></i>';
                }, 1000);
            });
            
            // Generate insights button
            document.getElementById('generateInsights').addEventListener('click', function() {
                generateChartAnalysis();
                this.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Generating...';
                setTimeout(() => {
                    this.innerHTML = '<i class="bi bi-lightning-charge"></i> Generate New Insights';
                }, 1500);
            });
            
            // Tracking button event
            document.getElementById('trackBtn').addEventListener('click', function() {
                const trackingNumber = document.getElementById('trackingNumber').value.trim();
                if (trackingNumber) {
                    simulateTracking(trackingNumber);
                } else {
                    alert('Please enter a valid tracking number');
                }
            });
        }

        function updateAnalyticsData(days) {
            // Update stats numbers
            const stats = generateRandomStats(days);
            document.getElementById('totalShipments').textContent = stats.totalShipments;
            document.getElementById('onTimeRate').textContent = stats.onTimeRate + '%';
            document.getElementById('avgTransitTime').textContent = stats.avgTransitTime;
            document.getElementById('costPerShipment').textContent = '$' + stats.costPerShipment;
            
            // Update all charts
            initAllCharts();
            
            // Update analysis
            generateChartAnalysis();
        }

        function generateRandomStats(days) {
            let stats = {};
            
            if (days === '7') {
                stats.totalShipments = Math.floor(Math.random() * 50) + 50;
                stats.onTimeRate = (Math.random() * 5 + 90).toFixed(1);
                stats.avgTransitTime = (Math.random() * 1 + 2).toFixed(1);
                stats.costPerShipment = (Math.random() * 50 + 150).toFixed(2);
            } else if (days === '30') {
                stats.totalShipments = Math.floor(Math.random() * 200) + 100;
                stats.onTimeRate = (Math.random() * 5 + 90).toFixed(1);
                stats.avgTransitTime = (Math.random() * 1 + 3).toFixed(1);
                stats.costPerShipment = (Math.random() * 50 + 100).toFixed(2);
            } else if (days === '90') {
                stats.totalShipments = Math.floor(Math.random() * 600) + 300;
                stats.onTimeRate = (Math.random() * 5 + 88).toFixed(1);
                stats.avgTransitTime = (Math.random() * 1 + 3.5).toFixed(1);
                stats.costPerShipment = (Math.random() * 40 + 90).toFixed(2);
            } else {
                stats.totalShipments = Math.floor(Math.random() * 2400) + 1200;
                stats.onTimeRate = (Math.random() * 5 + 85).toFixed(1);
                stats.avgTransitTime = (Math.random() * 1 + 4).toFixed(1);
                stats.costPerShipment = (Math.random() * 30 + 80).toFixed(2);
            }
            
            return stats;
        }

        function initShipmentVolumeChart() {
            const ctx = document.getElementById('shipmentVolumeChart');
            if (!ctx) return;
            
            // Destroy previous chart if exists
            if (window.shipmentVolumeChart instanceof Chart) {
                window.shipmentVolumeChart.destroy();
            }
            
            const timePeriod = document.getElementById('timePeriod').value;
            let labels, airData, oceanData, groundData;
            
            if (timePeriod === '7') {
                labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                airData = [15, 12, 18, 14, 20, 8, 5];
                oceanData = [8, 10, 12, 9, 15, 5, 3];
                groundData = [20, 18, 22, 25, 30, 15, 10];
            } else if (timePeriod === '30') {
                labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                airData = [45, 50, 55, 60];
                oceanData = [30, 35, 40, 45];
                groundData = [60, 65, 70, 75];
            } else if (timePeriod === '90') {
                labels = ['Month 1', 'Month 2', 'Month 3'];
                airData = [150, 165, 180];
                oceanData = [120, 135, 150];
                groundData = [200, 220, 240];
            } else {
                labels = ['Q1', 'Q2', 'Q3', 'Q4'];
                airData = [450, 500, 550, 600];
                oceanData = [400, 450, 500, 550];
                groundData = [600, 650, 700, 750];
            }
            
            try {
                window.shipmentVolumeChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Air Freight',
                            data: airData,
                            backgroundColor: 'rgba(23, 48, 82, 0.1)',
                            borderColor: 'rgba(23, 48, 82, 1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true,
                            pointBackgroundColor: 'rgba(23, 48, 82, 1)',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }, {
                            label: 'Ocean Freight',
                            data: oceanData,
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            borderColor: 'rgba(40, 167, 69, 1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true,
                            pointBackgroundColor: 'rgba(40, 167, 69, 1)',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }, {
                            label: 'Ground Shipping',
                            data: groundData,
                            backgroundColor: 'rgba(255, 193, 7, 0.1)',
                            borderColor: 'rgba(255, 193, 7, 1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true,
                            pointBackgroundColor: 'rgba(255, 193, 7, 1)',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                titleFont: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    drawBorder: false
                                },
                                title: {
                                    display: true,
                                    text: 'Number of Shipments',
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            } catch (e) {
                console.error("Error creating shipment volume chart:", e);
            }
        }

        function initServiceMixChart() {
            const ctx = document.getElementById('serviceMixChart');
            if (!ctx) return;
            
            if (window.serviceMixChart instanceof Chart) {
                window.serviceMixChart.destroy();
            }
            
            const timePeriod = document.getElementById('timePeriod').value;
            let airValue, oceanValue, groundValue;
            
            if (timePeriod === '7') {
                airValue = 35;
                oceanValue = 25;
                groundValue = 40;
            } else if (timePeriod === '30') {
                airValue = 40;
                oceanValue = 30;
                groundValue = 30;
            } else if (timePeriod === '90') {
                airValue = 45;
                oceanValue = 35;
                groundValue = 20;
            } else {
                airValue = 50;
                oceanValue = 40;
                groundValue = 10;
            }
            
            try {
                window.serviceMixChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Air Freight', 'Ocean Freight', 'Ground Shipping'],
                        datasets: [{
                            data: [airValue, oceanValue, groundValue],
                            backgroundColor: [
                                'rgba(23, 48, 82, 0.8)',
                                'rgba(40, 167, 69, 0.8)',
                                'rgba(255, 193, 7, 0.8)'
                            ],
                            borderColor: 'rgba(255, 255, 255, 0.8)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20,
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw || 0;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = Math.round((value / total) * 100);
                                        return `${label}: ${value} (${percentage}%)`;
                                    }
                                }
                            },
                            datalabels: {
                                display: false
                            }
                        }
                    },
                    plugins: [ChartDataLabels]
                });
            } catch (e) {
                console.error("Error creating service mix chart:", e);
            }
        }

        function initOnTimeChart() {
            const ctx = document.getElementById('onTimeChart');
            if (!ctx) return;
            
            if (window.onTimeChart instanceof Chart) {
                window.onTimeChart.destroy();
            }
            
            const timePeriod = document.getElementById('timePeriod').value;
            let airValue, oceanValue, groundValue;
            
            if (timePeriod === '7') {
                airValue = 97;
                oceanValue = 95;
                groundValue = 98;
            } else if (timePeriod === '30') {
                airValue = 95;
                oceanValue = 92;
                groundValue = 97;
            } else if (timePeriod === '90') {
                airValue = 93;
                oceanValue = 90;
                groundValue = 95;
            } else {
                airValue = 90;
                oceanValue = 88;
                groundValue = 93;
            }
            
            try {
                window.onTimeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Air Freight', 'Ocean Freight', 'Ground Shipping'],
                        datasets: [{
                            label: 'On-Time Delivery %',
                            data: [airValue, oceanValue, groundValue],
                            backgroundColor: [
                                'rgba(23, 48, 82, 0.8)',
                                'rgba(40, 167, 69, 0.8)',
                                'rgba(255, 193, 7, 0.8)'
                            ],
                            borderColor: [
                                'rgba(23, 48, 82, 1)',
                                'rgba(40, 167, 69, 1)',
                                'rgba(255, 193, 7, 1)'
                            ],
                            borderWidth: 1,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        return `${context.raw}% on-time delivery`;
                                    }
                                }
                            },
                            datalabels: {
                                color: '#fff',
                                font: {
                                    weight: 'bold'
                                },
                                formatter: function(value) {
                                    return value + '%';
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                grid: {
                                    drawBorder: false
                                },
                                title: {
                                    display: true,
                                    text: 'Percentage',
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    },
                    plugins: [ChartDataLabels]
                });
            } catch (e) {
                console.error("Error creating on-time chart:", e);
            }
        }

        function initDestinationChart() {
            const ctx = document.getElementById('destinationChart');
            if (!ctx) return;
            
            if (window.destinationChart instanceof Chart) {
                window.destinationChart.destroy();
            }
            
            const timePeriod = document.getElementById('timePeriod').value;
            let usValue, deValue, ukValue, cnValue, jpValue;
            
            if (timePeriod === '7') {
                usValue = 25;
                deValue = 15;
                ukValue = 12;
                cnValue = 8;
                jpValue = 5;
            } else if (timePeriod === '30') {
                usValue = 120;
                deValue = 90;
                ukValue = 85;
                cnValue = 75;
                jpValue = 60;
            } else if (timePeriod === '90') {
                usValue = 360;
                deValue = 270;
                ukValue = 255;
                cnValue = 225;
                jpValue = 180;
            } else {
                usValue = 1440;
                deValue = 1080;
                ukValue = 1020;
                cnValue = 900;
                jpValue = 720;
            }
            
            try {
                window.destinationChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['United States', 'Germany', 'United Kingdom', 'China', 'Japan'],
                        datasets: [{
                            label: 'Shipments',
                            data: [usValue, deValue, ukValue, cnValue, jpValue],
                            backgroundColor: [
                                'rgba(23, 48, 82, 0.8)',
                                'rgba(23, 48, 82, 0.7)',
                                'rgba(23, 48, 82, 0.6)',
                                'rgba(23, 48, 82, 0.5)',
                                'rgba(23, 48, 82, 0.4)'
                            ],
                            borderColor: 'rgba(23, 48, 82, 1)',
                            borderWidth: 1,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8
                            },
                            datalabels: {
                                display: false
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                grid: {
                                    drawBorder: false
                                },
                                title: {
                                    display: true,
                                    text: 'Number of Shipments',
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            } catch (e) {
                console.error("Error creating destination chart:", e);
            }
        }
        
        function initRevenueChart() {
            const ctx = document.getElementById('revenueChart');
            if (!ctx) return;
            
            if (window.revenueChart instanceof Chart) {
                window.revenueChart.destroy();
            }
            
            const timePeriod = document.getElementById('timePeriod').value;
            let labels, airData, oceanData, groundData;
            
            if (timePeriod === '7') {
                labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                airData = [1500, 1200, 1800, 1400, 2000, 800, 500];
                oceanData = [800, 1000, 1200, 900, 1500, 500, 300];
                groundData = [2000, 1800, 2200, 2500, 3000, 1500, 1000];
            } else if (timePeriod === '30') {
                labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                airData = [4500, 5000, 5500, 6000];
                oceanData = [3000, 3500, 4000, 4500];
                groundData = [6000, 6500, 7000, 7500];
            } else if (timePeriod === '90') {
                labels = ['Month 1', 'Month 2', 'Month 3'];
                airData = [15000, 16500, 18000];
                oceanData = [12000, 13500, 15000];
                groundData = [20000, 22000, 24000];
            } else {
                labels = ['Q1', 'Q2', 'Q3', 'Q4'];
                airData = [45000, 50000, 55000, 60000];
                oceanData = [40000, 45000, 50000, 55000];
                groundData = [60000, 65000, 70000, 75000];
            }
            
            try {
                window.revenueChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Air Freight',
                            data: airData,
                            backgroundColor: 'rgba(23, 48, 82, 0.7)',
                            borderColor: 'rgba(23, 48, 82, 1)',
                            borderWidth: 1,
                            borderRadius: 6
                        }, {
                            label: 'Ocean Freight',
                            data: oceanData,
                            backgroundColor: 'rgba(40, 167, 69, 0.7)',
                            borderColor: 'rgba(40, 167, 69, 1)',
                            borderWidth: 1,
                            borderRadius: 6
                        }, {
                            label: 'Ground Shipping',
                            data: groundData,
                            backgroundColor: 'rgba(255, 193, 7, 0.7)',
                            borderColor: 'rgba(255, 193, 7, 1)',
                            borderWidth: 1,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: $${context.raw.toLocaleString()}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    drawBorder: false
                                },
                                title: {
                                    display: true,
                                    text: 'Revenue ($)',
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            } catch (e) {
                console.error("Error creating revenue chart:", e);
            }
        }
        
        function initWeightChart() {
            const ctx = document.getElementById('weightChart');
            if (!ctx) return;
            
            if (window.weightChart instanceof Chart) {
                window.weightChart.destroy();
            }
            
            try {
                window.weightChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['<1kg', '1-5kg', '5-10kg', '10-20kg', '20-50kg', '50-100kg', '>100kg'],
                        datasets: [{
                            label: 'Air Freight',
                            data: [15, 30, 45, 60, 40, 20, 10],
                            backgroundColor: 'rgba(23, 48, 82, 0.2)',
                            borderColor: 'rgba(23, 48, 82, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(23, 48, 82, 1)'
                        }, {
                            label: 'Ocean Freight',
                            data: [5, 10, 15, 30, 60, 80, 95],
                            backgroundColor: 'rgba(40, 167, 69, 0.2)',
                            borderColor: 'rgba(40, 167, 69, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(40, 167, 69, 1)'
                        }, {
                            label: 'Ground Shipping',
                            data: [35, 50, 60, 55, 40, 25, 15],
                            backgroundColor: 'rgba(255, 193, 7, 0.2)',
                            borderColor: 'rgba(255, 193, 7, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(255, 193, 7, 1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8
                            }
                        },
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                ticks: {
                                    backdropColor: 'transparent'
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            }
                        }
                    }
                });
            } catch (e) {
                console.error("Error creating weight chart:", e);
            }
        }
        
        function initSatisfactionChart() {
            const ctx = document.getElementById('satisfactionChart');
            if (!ctx) return;
            
            if (window.satisfactionChart instanceof Chart) {
                window.satisfactionChart.destroy();
            }
            
            try {
                window.satisfactionChart = new Chart(ctx, {
                    type: 'polarArea',
                    data: {
                        labels: ['Air Freight', 'Ocean Freight', 'Ground Shipping', 'Customer Service', 'Pricing', 'Tracking'],
                        datasets: [{
                            data: [4.5, 4.2, 4.7, 4.8, 4.1, 4.6],
                            backgroundColor: [
                                'rgba(23, 48, 82, 0.7)',
                                'rgba(40, 167, 69, 0.7)',
                                'rgba(255, 193, 7, 0.7)',
                                'rgba(220, 53, 69, 0.7)',
                                'rgba(13, 110, 253, 0.7)',
                                'rgba(111, 66, 193, 0.7)'
                            ],
                            borderColor: 'rgba(255, 255, 255, 0.8)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20,
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw}/5`;
                                    }
                                }
                            },
                            datalabels: {
                                color: '#fff',
                                font: {
                                    weight: 'bold'
                                },
                                formatter: function(value) {
                                    return value;
                                }
                            }
                        },
                        scales: {
                            r: {
                                min: 0,
                                max: 5,
                                ticks: {
                                    stepSize: 1,
                                    backdropColor: 'transparent'
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            }
                        }
                    },
                    plugins: [ChartDataLabels]
                });
            } catch (e) {
                console.error("Error creating satisfaction chart:", e);
            }
        }
        
        function initStatusChart() {
            const ctx = document.getElementById('statusChart');
            if (!ctx) return;
            
            if (window.statusChart instanceof Chart) {
                window.statusChart.destroy();
            }
            
            try {
                window.statusChart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Delivered', 'In Transit', 'Pending', 'Delayed', 'Returned'],
                        datasets: [{
                            data: [75, 15, 5, 3, 2],
                            backgroundColor: [
                                'rgba(40, 167, 69, 0.7)',
                                'rgba(13, 110, 253, 0.7)',
                                'rgba(108, 117, 125, 0.7)',
                                'rgba(255, 193, 7, 0.7)',
                                'rgba(220, 53, 69, 0.7)'
                            ],
                            borderColor: 'rgba(255, 255, 255, 0.8)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20,
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                bodyFont: {
                                    size: 12
                                },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw || 0;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = Math.round((value / total) * 100);
                                        return `${label}: ${value} (${percentage}%)`;
                                    }
                                }
                            },
                            datalabels: {
                                color: '#fff',
                                font: {
                                    weight: 'bold'
                                },
                                formatter: function(value, context) {
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return percentage + '%';
                                }
                            }
                        }
                    },
                    plugins: [ChartDataLabels]
                });
            } catch (e) {
                console.error("Error creating status chart:", e);
            }
        }
        
        function generateChartAnalysis() {
            const timePeriod = document.getElementById('timePeriod').value;
            const totalShipments = document.getElementById('totalShipments').textContent;
            const onTimeRate = document.getElementById('onTimeRate').textContent;
            const avgTransitTime = document.getElementById('avgTransitTime').textContent;
            const costPerShipment = document.getElementById('costPerShipment').textContent;
            
            let timePeriodText = '';
            switch(timePeriod) {
                case '7': timePeriodText = 'last 7 days'; break;
                case '30': timePeriodText = 'last 30 days'; break;
                case '90': timePeriodText = 'last quarter'; break;
                case '365': timePeriodText = 'last year'; break;
            }
            
            const analysisHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <div class="alert alert-primary">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-graph-up me-2 fs-4"></i>
                                <h6 class="mb-0">Shipment Volume Trends</h6>
                            </div>
                            <p>Your shipment volume shows a steady increase over the ${timePeriodText}, with air freight growing at the fastest rate (18% month-over-month). Ground shipping remains your most popular service, accounting for 40% of total shipments.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="alert alert-success">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle me-2 fs-4"></i>
                                <h6 class="mb-0">On-Time Performance</h6>
                            </div>
                            <p>Your overall on-time delivery rate of ${onTimeRate} exceeds industry standards by 7%. Ground shipping leads with 97% on-time performance. The US-Europe corridor shows the most consistent performance at 96% on-time.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="alert alert-warning">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-clock-history me-2 fs-4"></i>
                                <h6 class="mb-0">Transit Times</h6>
                            </div>
                            <p>The average transit time of ${avgTransitTime} days is within expectations. Ocean freight to Asia shows the longest transit times (avg. 14 days) but remains cost-effective for large shipments.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="alert alert-info">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-cash-stack me-2 fs-4"></i>
                                <h6 class="mb-0">Cost Analysis</h6>
                            </div>
                            <p>Your average cost per shipment is ${costPerShipment}. The 5-10kg weight range shows the highest profit margin (32%). Consider consolidating smaller shipments to reduce costs by up to 15%.</p>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <h6><i class="bi bi-lightbulb me-2"></i>AI-Generated Recommendations:</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush mb-3">
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Expand air freight capacity to meet growing demand
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Implement bulk discounts for high-volume routes
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Optimize packaging for 5-10kg shipments
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Improve tracking notifications for customers
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Focus on pricing satisfaction with loyalty programs
                                </li>
                                <li class="list-group-item d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    Analyze US-Europe corridor for service improvements
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="alert alert-light mt-3">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-info-circle me-2 fs-4"></i>
                        <small class="text-muted">Last analyzed: ${new Date().toLocaleString()} | These insights are generated based on your shipping data patterns.</small>
                    </div>
                </div>
            `;
            
            document.getElementById('chartAnalysisContent').innerHTML = analysisHTML;
        }

        function simulateTracking(trackingNumber) {
            // Show loading state
            const trackBtn = document.getElementById('trackBtn');
            trackBtn.disabled = true;
            trackBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Tracking...';
            
            // Show result container
            const trackingResult = document.getElementById('trackingResult');
            trackingResult.style.display = 'block';
            
            // Display tracking number
            document.getElementById('trackingNumDisplay').textContent = `#${trackingNumber}`;
            
            // Clear previous results
            document.getElementById('trackingStatus').innerHTML = '';
            
            // Generate random delivery date (for demo)
            const deliveryDate = new Date();
            deliveryDate.setDate(deliveryDate.getDate() + Math.floor(Math.random() * 3) + 1);
            document.getElementById('deliveryDate').textContent = deliveryDate.toLocaleDateString('en-US', { 
                weekday: 'long', 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Simulate API call delay
            setTimeout(() => {
                // Reset button
                trackBtn.disabled = false;
                trackBtn.innerHTML = '<i class="bi bi-search me-2"></i> TRACK';
                
                // Generate random status (for demo)
                const statuses = [
                    { 
                        status: 'Shipment created', 
                        location: 'New York, USA', 
                        time: new Date(Date.now() - 86400000 * 3).toLocaleString(), 
                        icon: 'bi-file-earmark-text',
                        completed: true
                    },
                    { 
                        status: 'Departed facility', 
                        location: 'New York, USA', 
                        time: new Date(Date.now() - 86400000 * 2.5).toLocaleString(), 
                        icon: 'bi-truck',
                        completed: true
                    },
                    { 
                        status: 'In transit', 
                        location: 'London, UK', 
                        time: new Date(Date.now() - 86400000 * 1.5).toLocaleString(), 
                        icon: 'bi-airplane',
                        completed: true
                    },
                    { 
                        status: 'Customs clearance', 
                        location: 'London, UK', 
                        time: new Date(Date.now() - 86400000 * 0.5).toLocaleString(), 
                        icon: 'bi-passport',
                        completed: false
                    },
                    { 
                        status: 'Out for delivery', 
                        location: 'London, UK', 
                        time: '', 
                        icon: 'bi-box-seam',
                        completed: false
                    }
                ];
                
                // Add status items
                statuses.forEach((item, index) => {
                    const li = document.createElement('li');
                    li.className = 'list-group-item';
                    li.innerHTML = `
                        <div class="d-flex">
                            <div class="me-3">
                                <div class="${item.completed ? 'text-primary' : 'text-muted'}">
                                    <i class="bi ${item.icon} fs-4"></i>
                                </div>
                                ${index < statuses.length - 1 ? `<div class="vr ${item.completed ? 'text-primary' : 'text-muted'} mx-auto" style="height: 40px;"></div>` : ''}
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1 ${item.completed ? '' : 'text-muted'}">${item.status}</h6>
                                ${item.time ? `<small class="text-muted">${item.location} - ${item.time}</small>` : `<small class="text-muted">${item.location} - Pending</small>`}
                            </div>
                            ${item.completed ? '<span class="badge bg-primary status-badge">Completed</span>' : '<span class="badge bg-secondary status-badge">Pending</span>'}
                        </div>
                    `;
                    document.getElementById('trackingStatus').appendChild(li);
                });
                
                // Update progress bar
                const progressBar = document.querySelector('.progress-bar');
                const completedSteps = statuses.filter(item => item.completed).length;
                const progressPercentage = (completedSteps / statuses.length) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                progressBar.setAttribute('aria-valuenow', progressPercentage);
            }, 1500);
        }
    </script>
</body>
</html>